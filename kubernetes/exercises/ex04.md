# ğŸ§ª Mini-TP â€“ Labels et Annotations dans Kubernetes

## ğŸ¯ Objectifs pÃ©dagogiques

- CrÃ©er un Pod avec des labels et des annotations
- Filtrer des ressources avec des labels
- Modifier ou ajouter des labels/annotations dynamiquement
- Comprendre la diffÃ©rence dâ€™usage entre les deux

---

## ğŸŸ¦ Ã‰tape 1 â€“ CrÃ©er un Pod avec labels et annotations

### âœ… `pod-labels.yaml`
```yaml
apiVersion: v1
kind: Pod
metadata:
  name: pod-demo
  namespace: default
  labels:
    app: web
    env: dev
    team: frontend
  annotations:
    contact: "devops@monapp.local"
    doc: "https://monapp.local/docs"
spec:
  containers:
  - name: nginx
    image: nginx
```

```bash
kubectl apply -f pod-labels.yaml
```

---

## ğŸŸ¦ Ã‰tape 2 â€“ VÃ©rifier la crÃ©ation et les mÃ©tadonnÃ©es

```bash
kubectl get pod pod-demo --show-labels
```
```
kubectl get pod pod-demo -o yaml | grep annotations -A 5
```

---

## ğŸŸ¦ Ã‰tape 3 â€“ Filtrer avec les labels

```bash
kubectl get pods -l app=web
```
```
kubectl get pods -l "env in (dev,prod)"
```
```
kubectl get pods -l team=frontend
```

---

## ğŸŸ¦ Ã‰tape 4 â€“ Ajouter ou modifier un label

```bash
kubectl label pod pod-demo version=v1
```
```
kubectl label pod pod-demo team=backend --overwrite
```

ğŸ” VÃ©rification :
```bash
kubectl get pod pod-demo --show-labels
```

---

## ğŸŸ¦ Ã‰tape 5 â€“ Ajouter une annotation

```bash
kubectl annotate pod pod-demo debug=true
```

ğŸ” VÃ©rification :
```bash
kubectl get pod pod-demo -o yaml | grep annotations -A 5
```


## ğŸŸ¦ Ã‰tape 6 â€“ Nettoyage

```bash
kubectl delete -f pod-labels.yaml
```

---

## âœ… RÃ©sumÃ© pÃ©dagogique

| Ã‰lÃ©ment       | Utilisation principale                           |
|---------------|--------------------------------------------------|
| **Labels**     | Filtrage, sÃ©lection, organisation logique       |
| **Annotations**| MÃ©tadonnÃ©es informatives (outils, humains, docs)|
| Labels = filtres | âœ… Oui (kubectl, services, ReplicaSets...)     |
| Annotations = filtres | âŒ Non                                    |

ğŸ’¬ *Les labels sont pour Kubernetes. Les annotations sont pour vous (et vos outils).*
